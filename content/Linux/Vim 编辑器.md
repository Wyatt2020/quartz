---
created: 2022-06-06 15:25
modified: 2023-11-09 14:17
tags:
  - Linux
---

> [!link] Reference
> [Linux入门手册 - 掘金](https://juejin.cn/post/6844904021753331726?searchId=20231026123350A462D226E0455F65E3EB#heading-6)

> 比 `vi` 更强大的文本编辑器，支持代码颜色高亮、代码补全、编译及错误跳转等功能。

## 安装

```shell
yum -y install vim*
```

### 配置

```shell
vim /etc/vimrc
```

```properties
set nu // 在左侧行号
set tabstop=4 //tab 长度设置为 4
set nobackup //覆盖文件时不备份
set cursorline //突出显示当前行
set ruler //在右下角显示光标位置的状态行
set autoindent //自动缩进
```

## 三种模式

### 命令模式

启动 `vi/vim`，便进入了命令模式，此状态下敲击键盘动作会被识别为命令，而非输入字符

常用命令：
- `i` / `a` / `s` / `o` 切换到输入模式
- `:` 切换到底线命令模式，以在最底一行输入命令
- 查找与替换
	- `/word` + `回车` 向光标之后查找字符串 `word`
	- `?word` + `回车` 向光标之前查找字符串 `word`
	- `n` 往后查找目标字符串
	- `N` 往前查找目标字符串
- 删除
	- `x` 删除光标的字符
	- `X` 删除光标前一个字符
	- `dd` 剪切光标所在行
	- `D` 删除从光标到光标所在行尾的全部字符
	- `ndd` n 为数字。删除光标所在的向下 n 列，例如 `20dd` 则是删除 20 列 (常用)
	- `d$` 删除光标所在处，到该行的最后一个字符
	- `d0` 那个是数字的 0 ，删除光标所在处，到该行的最前面一个字符
- 复制
	- `yy` 复制光标所在的那一行 (常用)
	- `nyy` n 为数字。复制光标所在的向下 n 列，例如 `20yy` 则是复制 20 列 (常用)
- 粘贴
	- `p` 将已复制的数据在光标下一行贴上。举例来说，我目前光标在第 20 行，且已经复制了 10 行数据。则按下 p 后，那 10 行数据会贴在原本的 20 行之后，亦即由 21 行开始贴。
	- `P` 贴在游标上一行。原本的第 20 行会被推到变成 30 行。
- 撤销
	- `u` 撤销上一个指令 (常用)
- 重做
	- `ctrl + r` 重做上一个指令 (常用)
	- `.` 重复上一个指令

### 输入模式

启动 `vi/vim`，输入 `i` 进入输入模式，就可以输入字符了，按 `ESC` 键退出输入模式，切换到命令模式

### 底线命令模式

在命令模式下按下 `:`（英文冒号）就进入底线命令模式了

基本命令：
- `q` 退出程序（quit）
- `w` 保存文件（write）

#### 保存并退出的四种方式

1. `Esc` + `:` + `wq` + `回车`
2. `Esc` + `:` + `x` + `回车`（x=wq）
3. `Esc` + `Shift` + `zz`
4. `Esc` + `ZZ`（在大写开启下）

#### 没有任何改动就退出

`Esc` + `:` + `q` + `回车`

#### 不保存退出

`Esc` + `:` + `q!` + `回车`
