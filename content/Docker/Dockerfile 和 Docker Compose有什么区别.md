---
created: 2024-04-27 23:24
modified: 2024-04-27 23:26
tags: [docker]
---

### Dockerfile

**用途**：Dockerfile 是一个文本文件，用于自动化构建 Docker 镜像的过程。它包含了一系列指令，每条指令定义了构建镜像的一个步骤，比如从哪个基础镜像开始、安装软件包、复制文件、设置环境变量、运行命令等。

**构建镜像**：通过 `docker build` 命令结合 Dockerfile，可以创建一个可重复的构建过程，确保每次构建出的镜像都具有一致性。

**单个容器配置**：Dockerfile 主要关注单个容器的配置和环境设置，它定义了一个容器运行时的基础。

### Docker Compose

**用途**：Docker Compose 是一个容器编排工具，允许用户在一个 YAML 文件（`docker-compose.yml`）中定义和配置多个 Docker 容器以及它们之间的依赖关系、网络和服务发现等高级功能。

**多容器应用**：它使得定义和运行涉及多个服务的复杂应用变得简单，例如一个 Web 服务器、数据库服务器和缓存服务器的组合应用。

**编排与管理**：Docker Compose 提供了一组命令，用于启动、停止、重启和重建服务，同时也处理服务间网络、数据卷挂载等，简化了多容器应用的部署和管理过程。

### 区别总结

**焦点不同**：Dockerfile 关注于单个容器镜像的创建，而 Docker Compose 关注于多个容器服务的组织和部署。

**使用场景**：Dockerfile 适用于构建可复用的镜像基础，而 Docker Compose 则是在开发和部署涉及多个服务的应用时更为便捷。

**配合使用**：在实际应用中，通常会先用 Dockerfile 构建各个服务所需的镜像，然后通过 Docker Compose 来组织这些镜像，定义它们如何协同工作，实现应用的快速部署和管理。
